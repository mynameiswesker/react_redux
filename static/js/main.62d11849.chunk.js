(this.webpackJsonpnewapp=this.webpackJsonpnewapp||[]).push([[0],{181:function(e,t,r){e.exports=r(336)},191:function(e,t,r){},336:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"setBooks",(function(){return O}));var a={};r.r(a),r.d(a,"addToCart",(function(){return P})),r.d(a,"removeFromCart",(function(){return D}));var c={};r.r(c),r.d(c,"setFilter",(function(){return I})),r.d(c,"setSearchQuery",(function(){return B}));var o=r(0),i=r.n(o),u=r(28),l=r.n(u),s=r(23),p=(r(190),r(191),r(16)),f=r(18),O=function(e){return{type:"SET_BOOKS",payload:e}},b=r(102),y=r.n(b),m=r(155),d=r(44),j=r(45),v=r(46),h=r(49),g=r(50),E=r(344),w=r(347),P=function(e){return{type:"ADD_TO_CART",payload:e}},D=function(e){return{type:"REMOVE_FROM_CART",payload:e}},k=r(170),S=r(32),C=r(337),_=function(e){var t=e.title,r=e.author,n=e.price,a=e.image,c=e.addToCart,o=e.addedCount;return i.a.createElement(w.a,null,i.a.createElement("div",{className:"card-image"},i.a.createElement(k.a,{src:a})),i.a.createElement(w.a.Content,null,i.a.createElement(w.a.Header,null,t),i.a.createElement(w.a.Meta,null,i.a.createElement("span",{className:"date"},r))),i.a.createElement(w.a.Content,{extra:!0},i.a.createElement("a",null,i.a.createElement(S.a,{name:"rub"}),n)),i.a.createElement(C.a,{onClick:c.bind(void 0,e)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",o>0&&"(".concat(o,")")))};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var T=Object(s.b)((function(e,t){var r=e.cart,n=t.id;return{addedCount:r.items.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(f.b)(a,e))}))(_),I=function(e){return{type:"SET_FILTER",payload:e}},B=function(e){return{type:"SET_QUERY",payload:e}},A=r(348),F=r(343),Q=function(e){var t=e.setFilter,r=e.filterBy,n=e.searchQuery,a=e.setSearchQuery;return i.a.createElement(A.a,{secondary:!0},i.a.createElement(A.a.Item,{active:"all"===r,onClick:t.bind(void 0,"all")},"\u0412\u0441\u0435"),i.a.createElement(A.a.Item,{active:"price_high"===r,onClick:t.bind(void 0,"price_high")},"\u0426\u0435\u043d\u0430 (\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),i.a.createElement(A.a.Item,{active:"price_low"===r,onClick:t.bind(void 0,"price_low")},"\u0426\u0435\u043d\u0430 (\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),i.a.createElement(A.a.Item,{active:"author"===r,onClick:t.bind(void 0,"author")},"\u0410\u0432\u0442\u043e\u0440"),i.a.createElement(A.a.Item,null,i.a.createElement(F.a,{icon:"search",onChange:function(e){return a(e.target.value)},value:n,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441..."})))};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var M=Object(s.b)((function(e){e.books;return{filterBy:e.filter.filterBy}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(f.b)(c,e))}))(Q),L=r(346),Y=r(345),J=function(e){var t=e.title,r=e.id,n=e.image,a=e.removeFromCart;return i.a.createElement(L.a,{selection:!0,divided:!0,verticalAlign:"middle"},i.a.createElement(L.a.Item,null,i.a.createElement(L.a.Content,{floated:"right"},i.a.createElement(C.a,{onClick:a.bind(void 0,r),color:"red"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),i.a.createElement(k.a,{avatar:!0,src:n}),i.a.createElement(L.a.Content,null,t)))},K=function(e){var t=e.totalPrice,r=e.count,n=e.items;return i.a.createElement(A.a,null,i.a.createElement(A.a.Item,{name:"browse"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),i.a.createElement(A.a.Menu,{position:"right"},i.a.createElement(A.a.Item,{name:"signup"},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",i.a.createElement("b",null,t),"\xa0\u0440\u0443\u0431."),i.a.createElement(Y.a,{trigger:i.a.createElement(A.a.Item,{name:"help"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",i.a.createElement("b",null,r),")"),content:n.map((function(e){return i.a.createElement(J,e)})),on:"click",hideOnScroll:!0})))},N=r(168),U=r.n(N);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var G=Object(s.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,items:U()(t.items,(function(e){return e.id}))}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(f.b)(a,e))}))(K),H=function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.setBooks;function t(){return(t=Object(m.a)(y.a.mark((function t(){var r,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"books.json",t.next=3,fetch("books.json");case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,e(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}},{key:"render",value:function(){var e=this.props,t=e.books,r=e.isReady;return i.a.createElement(E.a,null,i.a.createElement(G,null),i.a.createElement(M,null),i.a.createElement(w.a.Group,{itemsPerRow:4},r?t.map((function(e,t){return i.a.createElement(T,Object.assign({key:t},e))})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))}}]),t}(o.Component),W=r(82),q=r.n(W);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var X=function(e,t,r){return function(e,t){switch(t){case"price_high":return q()(e,"price","desc");case"price_low":return q()(e,"price","asc");case"author":return q()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,r),t)},Z=Object(s.b)((function(e){var t=e.books,r=e.filter;return{books:t.items&&X(t.items,r.filterBy,r.searchQuery),isReady:t.isReady}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(f.b)(n,e))}))(H),$=r(169),ee=r.n($);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne={isReady:!1,items:null},ae=r(171);function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie={items:[]};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={searchQuery:"",filterBy:"all"},pe=Object(f.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return re({},e,{items:t.payload,isReady:!0});case"SET_IS_READY":return re({},e,{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return oe({},e,{items:[].concat(Object(ae.a)(e.items),[t.payload])});case"REMOVE_FROM_CART":return oe({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return le({},e,{searchQuery:t.payload});case"SET_FILTER":return le({},e,{filterBy:t.payload});default:return e}}}),fe=Object(f.d)(pe,Object(f.a)(ee.a));l.a.render(i.a.createElement(s.a,{store:fe},i.a.createElement(Z,null)),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.62d11849.chunk.js.map